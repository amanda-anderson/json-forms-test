{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar merge_1 = tslib_1.__importDefault(require(\"lodash/merge\"));\n\nvar get_1 = tslib_1.__importDefault(require(\"lodash/get\"));\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar react_2 = require(\"@jsonforms/react\");\n\nvar core_1 = require(\"@jsonforms/core\");\n\nvar ExpansionPanelDetails_1 = tslib_1.__importDefault(require(\"@material-ui/core/ExpansionPanelDetails\"));\n\nvar IconButton_1 = tslib_1.__importDefault(require(\"@material-ui/core/IconButton\"));\n\nvar ExpansionPanel_1 = tslib_1.__importDefault(require(\"@material-ui/core/ExpansionPanel\"));\n\nvar ExpansionPanelSummary_1 = tslib_1.__importDefault(require(\"@material-ui/core/ExpansionPanelSummary\"));\n\nvar core_2 = require(\"@material-ui/core\");\n\nvar ExpandMore_1 = tslib_1.__importDefault(require(\"@material-ui/icons/ExpandMore\"));\n\nvar Avatar_1 = tslib_1.__importDefault(require(\"@material-ui/core/Avatar\"));\n\nvar Delete_1 = tslib_1.__importDefault(require(\"@material-ui/icons/Delete\"));\n\nvar ArrowUpward_1 = tslib_1.__importDefault(require(\"@material-ui/icons/ArrowUpward\"));\n\nvar ArrowDownward_1 = tslib_1.__importDefault(require(\"@material-ui/icons/ArrowDownward\"));\n\nvar v1_1 = tslib_1.__importDefault(require(\"uuid/v1\"));\n\nvar iconStyle = {\n  float: 'right'\n};\n\nvar ExpandPanelRenderer = function ExpandPanelRenderer(props) {\n  var labelHtmlId = react_1.useState(\"id\" + v1_1.default())[0];\n  var childLabel = props.childLabel,\n      childPath = props.childPath,\n      index = props.index,\n      expanded = props.expanded,\n      moveDown = props.moveDown,\n      moveUp = props.moveUp,\n      enableMoveDown = props.enableMoveDown,\n      enableMoveUp = props.enableMoveUp,\n      handleExpansion = props.handleExpansion,\n      removeItems = props.removeItems,\n      path = props.path,\n      rootSchema = props.rootSchema,\n      schema = props.schema,\n      uischema = props.uischema,\n      uischemas = props.uischemas,\n      renderers = props.renderers,\n      cells = props.cells,\n      config = props.config;\n  var foundUISchema = react_1.useMemo(function () {\n    return core_1.findUISchema(uischemas, schema, uischema.scope, path, undefined, uischema, rootSchema);\n  }, [uischemas, schema, uischema.scope, path, uischema, rootSchema]);\n  var appliedUiSchemaOptions = merge_1.default({}, config, uischema.options);\n  return react_1.default.createElement(ExpansionPanel_1.default, {\n    \"aria-labelledby\": labelHtmlId,\n    expanded: expanded,\n    onChange: handleExpansion(childPath)\n  }, react_1.default.createElement(ExpansionPanelSummary_1.default, {\n    expandIcon: react_1.default.createElement(ExpandMore_1.default, null)\n  }, react_1.default.createElement(core_2.Grid, {\n    container: true,\n    alignItems: 'center'\n  }, react_1.default.createElement(core_2.Grid, {\n    item: true,\n    xs: 7,\n    md: 9\n  }, react_1.default.createElement(core_2.Grid, {\n    container: true,\n    alignItems: 'center'\n  }, react_1.default.createElement(core_2.Grid, {\n    item: true,\n    xs: 2,\n    md: 1\n  }, react_1.default.createElement(Avatar_1.default, {\n    \"aria-label\": 'Index'\n  }, index + 1)), react_1.default.createElement(core_2.Grid, {\n    item: true,\n    xs: 10,\n    md: 11\n  }, react_1.default.createElement(\"span\", {\n    id: labelHtmlId\n  }, childLabel)))), react_1.default.createElement(core_2.Grid, {\n    item: true,\n    xs: 5,\n    md: 3\n  }, react_1.default.createElement(core_2.Grid, {\n    container: true,\n    justify: 'flex-end'\n  }, react_1.default.createElement(core_2.Grid, {\n    item: true\n  }, react_1.default.createElement(core_2.Grid, {\n    container: true,\n    direction: 'row',\n    justify: 'center',\n    alignItems: 'center'\n  }, appliedUiSchemaOptions.showSortButtons ? react_1.default.createElement(react_1.Fragment, null, react_1.default.createElement(core_2.Grid, {\n    item: true\n  }, react_1.default.createElement(IconButton_1.default, {\n    onClick: moveUp(path, index),\n    style: iconStyle,\n    disabled: !enableMoveUp,\n    \"aria-label\": \"Move up\"\n  }, react_1.default.createElement(ArrowUpward_1.default, null))), react_1.default.createElement(core_2.Grid, {\n    item: true\n  }, react_1.default.createElement(IconButton_1.default, {\n    onClick: moveDown(path, index),\n    style: iconStyle,\n    disabled: !enableMoveDown,\n    \"aria-label\": \"Move down\"\n  }, react_1.default.createElement(ArrowDownward_1.default, null)))) : '', react_1.default.createElement(core_2.Grid, {\n    item: true\n  }, react_1.default.createElement(IconButton_1.default, {\n    onClick: removeItems(path, [index]),\n    style: iconStyle,\n    \"aria-label\": \"Delete\"\n  }, react_1.default.createElement(Delete_1.default, null))))))))), react_1.default.createElement(ExpansionPanelDetails_1.default, null, react_1.default.createElement(react_2.ResolvedJsonFormsDispatch, {\n    schema: schema,\n    uischema: foundUISchema,\n    path: childPath,\n    key: childPath,\n    renderers: renderers,\n    cells: cells\n  })));\n};\n/**\n * Maps state to dispatch properties of an expand pandel control.\n *\n * @param dispatch the store's dispatch method\n * @returns {DispatchPropsOfArrayControl} dispatch props of an expand panel control\n */\n\n\nexports.ctxDispatchToExpandPanelProps = function (dispatch) {\n  return {\n    removeItems: function removeItems(path, toDelete) {\n      return function (event) {\n        event.stopPropagation();\n        dispatch(core_1.update(path, function (array) {\n          toDelete.sort().reverse().forEach(function (s) {\n            return array.splice(s, 1);\n          });\n          return array;\n        }));\n      };\n    },\n    moveUp: function moveUp(path, toMove) {\n      return function (event) {\n        event.stopPropagation();\n        dispatch(core_1.update(path, function (array) {\n          core_1.moveUp(array, toMove);\n          return array;\n        }));\n      };\n    },\n    moveDown: function moveDown(path, toMove) {\n      return function (event) {\n        event.stopPropagation();\n        dispatch(core_1.update(path, function (array) {\n          core_1.moveDown(array, toMove);\n          return array;\n        }));\n      };\n    }\n  };\n};\n/**\n * Map state to control props.\n * @param state the JSON Forms state\n * @param ownProps any own props\n * @returns {StatePropsOfControl} state props for a control\n */\n\n\nexports.withContextToExpandPanelProps = function (Component) {\n  return function (_a) {\n    var ctx = _a.ctx,\n        props = _a.props;\n    var dispatchProps = exports.ctxDispatchToExpandPanelProps(ctx.dispatch);\n    var childLabelProp = props.childLabelProp,\n        schema = props.schema,\n        path = props.path,\n        index = props.index,\n        uischemas = props.uischemas;\n    var childPath = core_1.composePaths(path, \"\" + index);\n    var childData = core_1.Resolve.data(ctx.core.data, childPath);\n    var childLabel = childLabelProp ? get_1.default(childData, childLabelProp, '') : get_1.default(childData, core_1.getFirstPrimitiveProp(schema), '');\n    return react_1.default.createElement(Component, tslib_1.__assign({}, props, dispatchProps, {\n      childLabel: childLabel,\n      childPath: childPath,\n      uischemas: uischemas\n    }));\n  };\n};\n\nexports.withJsonFormsExpandPanelProps = function (Component) {\n  return react_2.withJsonFormsContext(exports.withContextToExpandPanelProps(react_1.default.memo(Component, function (prevProps, nextProps) {\n    return react_2.areEqual(prevProps, nextProps);\n  })));\n};\n\nexports.default = exports.withJsonFormsExpandPanelProps(ExpandPanelRenderer);","map":{"version":3,"sources":["../../src/layouts/ExpandPanelRenderer.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar merge_1 = tslib_1.__importDefault(require(\"lodash/merge\"));\nvar get_1 = tslib_1.__importDefault(require(\"lodash/get\"));\nvar react_1 = tslib_1.__importStar(require(\"react\"));\nvar react_2 = require(\"@jsonforms/react\");\nvar core_1 = require(\"@jsonforms/core\");\nvar ExpansionPanelDetails_1 = tslib_1.__importDefault(require(\"@material-ui/core/ExpansionPanelDetails\"));\nvar IconButton_1 = tslib_1.__importDefault(require(\"@material-ui/core/IconButton\"));\nvar ExpansionPanel_1 = tslib_1.__importDefault(require(\"@material-ui/core/ExpansionPanel\"));\nvar ExpansionPanelSummary_1 = tslib_1.__importDefault(require(\"@material-ui/core/ExpansionPanelSummary\"));\nvar core_2 = require(\"@material-ui/core\");\nvar ExpandMore_1 = tslib_1.__importDefault(require(\"@material-ui/icons/ExpandMore\"));\nvar Avatar_1 = tslib_1.__importDefault(require(\"@material-ui/core/Avatar\"));\nvar Delete_1 = tslib_1.__importDefault(require(\"@material-ui/icons/Delete\"));\nvar ArrowUpward_1 = tslib_1.__importDefault(require(\"@material-ui/icons/ArrowUpward\"));\nvar ArrowDownward_1 = tslib_1.__importDefault(require(\"@material-ui/icons/ArrowDownward\"));\nvar v1_1 = tslib_1.__importDefault(require(\"uuid/v1\"));\nvar iconStyle = { float: 'right' };\nvar ExpandPanelRenderer = function (props) {\n    var labelHtmlId = react_1.useState(\"id\" + v1_1.default())[0];\n    var childLabel = props.childLabel, childPath = props.childPath, index = props.index, expanded = props.expanded, moveDown = props.moveDown, moveUp = props.moveUp, enableMoveDown = props.enableMoveDown, enableMoveUp = props.enableMoveUp, handleExpansion = props.handleExpansion, removeItems = props.removeItems, path = props.path, rootSchema = props.rootSchema, schema = props.schema, uischema = props.uischema, uischemas = props.uischemas, renderers = props.renderers, cells = props.cells, config = props.config;\n    var foundUISchema = react_1.useMemo(function () {\n        return core_1.findUISchema(uischemas, schema, uischema.scope, path, undefined, uischema, rootSchema);\n    }, [uischemas, schema, uischema.scope, path, uischema, rootSchema]);\n    var appliedUiSchemaOptions = merge_1.default({}, config, uischema.options);\n    return (react_1.default.createElement(ExpansionPanel_1.default, { \"aria-labelledby\": labelHtmlId, expanded: expanded, onChange: handleExpansion(childPath) },\n        react_1.default.createElement(ExpansionPanelSummary_1.default, { expandIcon: react_1.default.createElement(ExpandMore_1.default, null) },\n            react_1.default.createElement(core_2.Grid, { container: true, alignItems: 'center' },\n                react_1.default.createElement(core_2.Grid, { item: true, xs: 7, md: 9 },\n                    react_1.default.createElement(core_2.Grid, { container: true, alignItems: 'center' },\n                        react_1.default.createElement(core_2.Grid, { item: true, xs: 2, md: 1 },\n                            react_1.default.createElement(Avatar_1.default, { \"aria-label\": 'Index' }, index + 1)),\n                        react_1.default.createElement(core_2.Grid, { item: true, xs: 10, md: 11 },\n                            react_1.default.createElement(\"span\", { id: labelHtmlId }, childLabel)))),\n                react_1.default.createElement(core_2.Grid, { item: true, xs: 5, md: 3 },\n                    react_1.default.createElement(core_2.Grid, { container: true, justify: 'flex-end' },\n                        react_1.default.createElement(core_2.Grid, { item: true },\n                            react_1.default.createElement(core_2.Grid, { container: true, direction: 'row', justify: 'center', alignItems: 'center' },\n                                appliedUiSchemaOptions.showSortButtons ? (react_1.default.createElement(react_1.Fragment, null,\n                                    react_1.default.createElement(core_2.Grid, { item: true },\n                                        react_1.default.createElement(IconButton_1.default, { onClick: moveUp(path, index), style: iconStyle, disabled: !enableMoveUp, \"aria-label\": \"Move up\" },\n                                            react_1.default.createElement(ArrowUpward_1.default, null))),\n                                    react_1.default.createElement(core_2.Grid, { item: true },\n                                        react_1.default.createElement(IconButton_1.default, { onClick: moveDown(path, index), style: iconStyle, disabled: !enableMoveDown, \"aria-label\": \"Move down\" },\n                                            react_1.default.createElement(ArrowDownward_1.default, null))))) : (''),\n                                react_1.default.createElement(core_2.Grid, { item: true },\n                                    react_1.default.createElement(IconButton_1.default, { onClick: removeItems(path, [index]), style: iconStyle, \"aria-label\": \"Delete\" },\n                                        react_1.default.createElement(Delete_1.default, null))))))))),\n        react_1.default.createElement(ExpansionPanelDetails_1.default, null,\n            react_1.default.createElement(react_2.ResolvedJsonFormsDispatch, { schema: schema, uischema: foundUISchema, path: childPath, key: childPath, renderers: renderers, cells: cells }))));\n};\n/**\n * Maps state to dispatch properties of an expand pandel control.\n *\n * @param dispatch the store's dispatch method\n * @returns {DispatchPropsOfArrayControl} dispatch props of an expand panel control\n */\nexports.ctxDispatchToExpandPanelProps = function (dispatch) { return ({\n    removeItems: function (path, toDelete) { return function (event) {\n        event.stopPropagation();\n        dispatch(core_1.update(path, function (array) {\n            toDelete\n                .sort()\n                .reverse()\n                .forEach(function (s) { return array.splice(s, 1); });\n            return array;\n        }));\n    }; },\n    moveUp: function (path, toMove) { return function (event) {\n        event.stopPropagation();\n        dispatch(core_1.update(path, function (array) {\n            core_1.moveUp(array, toMove);\n            return array;\n        }));\n    }; },\n    moveDown: function (path, toMove) { return function (event) {\n        event.stopPropagation();\n        dispatch(core_1.update(path, function (array) {\n            core_1.moveDown(array, toMove);\n            return array;\n        }));\n    }; }\n}); };\n/**\n * Map state to control props.\n * @param state the JSON Forms state\n * @param ownProps any own props\n * @returns {StatePropsOfControl} state props for a control\n */\nexports.withContextToExpandPanelProps = function (Component) { return function (_a) {\n    var ctx = _a.ctx, props = _a.props;\n    var dispatchProps = exports.ctxDispatchToExpandPanelProps(ctx.dispatch);\n    var childLabelProp = props.childLabelProp, schema = props.schema, path = props.path, index = props.index, uischemas = props.uischemas;\n    var childPath = core_1.composePaths(path, \"\" + index);\n    var childData = core_1.Resolve.data(ctx.core.data, childPath);\n    var childLabel = childLabelProp\n        ? get_1.default(childData, childLabelProp, '')\n        : get_1.default(childData, core_1.getFirstPrimitiveProp(schema), '');\n    return (react_1.default.createElement(Component, tslib_1.__assign({}, props, dispatchProps, { childLabel: childLabel, childPath: childPath, uischemas: uischemas })));\n}; };\nexports.withJsonFormsExpandPanelProps = function (Component) {\n    return react_2.withJsonFormsContext(exports.withContextToExpandPanelProps(react_1.default.memo(Component, function (prevProps, nextProps) {\n        return react_2.areEqual(prevProps, nextProps);\n    })));\n};\nexports.default = exports.withJsonFormsExpandPanelProps(ExpandPanelRenderer);\n//# sourceMappingURL=ExpandPanelRenderer.js.map"]},"metadata":{},"sourceType":"script"}