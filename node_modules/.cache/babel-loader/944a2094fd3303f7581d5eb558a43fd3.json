{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar core_1 = require(\"./core\");\n\nexports.coreReducer = core_1.coreReducer;\nexports.errorsAt = core_1.errorsAt;\n\nvar default_data_1 = require(\"./default-data\");\n\nvar default_data_2 = require(\"../reducers/default-data\");\n\nvar renderers_1 = require(\"./renderers\");\n\nexports.rendererReducer = renderers_1.rendererReducer;\n\nvar uischemas_1 = require(\"./uischemas\");\n\nexports.findMatchingUISchema = uischemas_1.findMatchingUISchema;\nexports.uischemaRegistryReducer = uischemas_1.uischemaRegistryReducer;\n\nvar i18n_1 = require(\"./i18n\");\n\nexports.i18nReducer = i18n_1.i18nReducer;\n\nvar generators_1 = require(\"../generators\");\n\nvar cells_1 = require(\"./cells\");\n\nexports.cellReducer = cells_1.cellReducer;\n\nvar config_1 = require(\"./config\");\n\nexports.configReducer = config_1.configReducer;\n\nvar get_1 = tslib_1.__importDefault(require(\"lodash/get\"));\n\nexports.jsonFormsReducerConfig = {\n  core: core_1.coreReducer,\n  renderers: renderers_1.rendererReducer,\n  cells: cells_1.cellReducer,\n  config: config_1.configReducer,\n  uischemas: uischemas_1.uischemaRegistryReducer,\n  defaultData: default_data_2.defaultDataReducer,\n  i18n: i18n_1.i18nReducer\n};\n\nexports.getData = function (state) {\n  return core_1.extractData(get_1.default(state, 'jsonforms.core'));\n};\n\nexports.getSchema = function (state) {\n  return core_1.extractSchema(get_1.default(state, 'jsonforms.core'));\n};\n\nexports.getUiSchema = function (state) {\n  return core_1.extractUiSchema(get_1.default(state, 'jsonforms.core'));\n};\n\nexports.getRefParserOptions = function (state) {\n  return core_1.extractRefParserOptions(get_1.default(state, 'jsonforms.core'));\n};\n\nexports.getAjv = function (state) {\n  return core_1.extractAjv(get_1.default(state, 'jsonforms.core'));\n};\n\nexports.getDefaultData = function (state) {\n  return default_data_1.extractDefaultData(get_1.default(state, 'jsonforms.defaultData'));\n};\n\nexports.getRenderers = function (state) {\n  return get_1.default(state, 'jsonforms.renderers');\n};\n\nexports.getCells = function (state) {\n  return get_1.default(state, 'jsonforms.cells');\n};\n\nexports.getUISchemas = function (state) {\n  return get_1.default(state, 'jsonforms.uischemas');\n};\n/**\n * Finds a registered UI schema to use, if any.\n * @param schema the JSON schema describing the data to be rendered\n * @param schemaPath the according schema path\n * @param path the instance path\n * @param fallbackLayoutType the type of the layout to use\n * @param control may be checked for embedded inline uischema options\n */\n\n\nexports.findUISchema = function (uischemas, schema, schemaPath, path, fallbackLayoutType, control, rootSchema) {\n  if (fallbackLayoutType === void 0) {\n    fallbackLayoutType = 'VerticalLayout';\n  } // handle options\n\n\n  if (control && control.options && control.options.detail) {\n    if (typeof control.options.detail === 'string') {\n      if (control.options.detail.toUpperCase() === 'GENERATE') {\n        // force generation of uischema\n        return generators_1.Generate.uiSchema(schema, fallbackLayoutType);\n      }\n    } else if (typeof control.options.detail === 'object') {\n      // check if detail is a valid uischema\n      if (control.options.detail.type && typeof control.options.detail.type === 'string') {\n        return control.options.detail;\n      }\n    }\n  } // default\n\n\n  var uiSchema = uischemas_1.findMatchingUISchema(uischemas)(schema, schemaPath, path);\n\n  if (uiSchema === undefined) {\n    return generators_1.Generate.uiSchema(schema, fallbackLayoutType, '#', rootSchema);\n  }\n\n  return uiSchema;\n};\n\nexports.getErrorAt = function (instancePath, schema) {\n  return function (state) {\n    return core_1.errorAt(instancePath, schema)(state.jsonforms.core);\n  };\n};\n\nexports.getSubErrorsAt = function (instancePath, schema) {\n  return function (state) {\n    return core_1.subErrorsAt(instancePath, schema)(state.jsonforms.core);\n  };\n};\n\nexports.getConfig = function (state) {\n  return state.jsonforms.config;\n};\n\nexports.getLocale = function (state) {\n  return i18n_1.fetchLocale(get_1.default(state, 'jsonforms.i18n'));\n};\n\nexports.getLocalizedSchema = function (locale) {\n  return function (state) {\n    return i18n_1.findLocalizedSchema(locale)(get_1.default(state, 'jsonforms.i18n'));\n  };\n};\n\nexports.getLocalizedUISchema = function (locale) {\n  return function (state) {\n    return i18n_1.findLocalizedUISchema(locale)(get_1.default(state, 'jsonforms.i18n'));\n  };\n};","map":{"version":3,"sources":["../../src/reducers/index.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar core_1 = require(\"./core\");\nexports.coreReducer = core_1.coreReducer;\nexports.errorsAt = core_1.errorsAt;\nvar default_data_1 = require(\"./default-data\");\nvar default_data_2 = require(\"../reducers/default-data\");\nvar renderers_1 = require(\"./renderers\");\nexports.rendererReducer = renderers_1.rendererReducer;\nvar uischemas_1 = require(\"./uischemas\");\nexports.findMatchingUISchema = uischemas_1.findMatchingUISchema;\nexports.uischemaRegistryReducer = uischemas_1.uischemaRegistryReducer;\nvar i18n_1 = require(\"./i18n\");\nexports.i18nReducer = i18n_1.i18nReducer;\nvar generators_1 = require(\"../generators\");\nvar cells_1 = require(\"./cells\");\nexports.cellReducer = cells_1.cellReducer;\nvar config_1 = require(\"./config\");\nexports.configReducer = config_1.configReducer;\nvar get_1 = tslib_1.__importDefault(require(\"lodash/get\"));\nexports.jsonFormsReducerConfig = {\n    core: core_1.coreReducer,\n    renderers: renderers_1.rendererReducer,\n    cells: cells_1.cellReducer,\n    config: config_1.configReducer,\n    uischemas: uischemas_1.uischemaRegistryReducer,\n    defaultData: default_data_2.defaultDataReducer,\n    i18n: i18n_1.i18nReducer\n};\nexports.getData = function (state) {\n    return core_1.extractData(get_1.default(state, 'jsonforms.core'));\n};\nexports.getSchema = function (state) {\n    return core_1.extractSchema(get_1.default(state, 'jsonforms.core'));\n};\nexports.getUiSchema = function (state) {\n    return core_1.extractUiSchema(get_1.default(state, 'jsonforms.core'));\n};\nexports.getRefParserOptions = function (state) {\n    return core_1.extractRefParserOptions(get_1.default(state, 'jsonforms.core'));\n};\nexports.getAjv = function (state) { return core_1.extractAjv(get_1.default(state, 'jsonforms.core')); };\nexports.getDefaultData = function (state) {\n    return default_data_1.extractDefaultData(get_1.default(state, 'jsonforms.defaultData'));\n};\nexports.getRenderers = function (state) { return get_1.default(state, 'jsonforms.renderers'); };\nexports.getCells = function (state) { return get_1.default(state, 'jsonforms.cells'); };\nexports.getUISchemas = function (state) { return get_1.default(state, 'jsonforms.uischemas'); };\n/**\n * Finds a registered UI schema to use, if any.\n * @param schema the JSON schema describing the data to be rendered\n * @param schemaPath the according schema path\n * @param path the instance path\n * @param fallbackLayoutType the type of the layout to use\n * @param control may be checked for embedded inline uischema options\n */\nexports.findUISchema = function (uischemas, schema, schemaPath, path, fallbackLayoutType, control, rootSchema) {\n    if (fallbackLayoutType === void 0) { fallbackLayoutType = 'VerticalLayout'; }\n    // handle options\n    if (control && control.options && control.options.detail) {\n        if (typeof control.options.detail === 'string') {\n            if (control.options.detail.toUpperCase() === 'GENERATE') {\n                // force generation of uischema\n                return generators_1.Generate.uiSchema(schema, fallbackLayoutType);\n            }\n        }\n        else if (typeof control.options.detail === 'object') {\n            // check if detail is a valid uischema\n            if (control.options.detail.type &&\n                typeof control.options.detail.type === 'string') {\n                return control.options.detail;\n            }\n        }\n    }\n    // default\n    var uiSchema = uischemas_1.findMatchingUISchema(uischemas)(schema, schemaPath, path);\n    if (uiSchema === undefined) {\n        return generators_1.Generate.uiSchema(schema, fallbackLayoutType, '#', rootSchema);\n    }\n    return uiSchema;\n};\nexports.getErrorAt = function (instancePath, schema) { return function (state) {\n    return core_1.errorAt(instancePath, schema)(state.jsonforms.core);\n}; };\nexports.getSubErrorsAt = function (instancePath, schema) { return function (state) { return core_1.subErrorsAt(instancePath, schema)(state.jsonforms.core); }; };\nexports.getConfig = function (state) { return state.jsonforms.config; };\nexports.getLocale = function (state) {\n    return i18n_1.fetchLocale(get_1.default(state, 'jsonforms.i18n'));\n};\nexports.getLocalizedSchema = function (locale) { return function (state) { return i18n_1.findLocalizedSchema(locale)(get_1.default(state, 'jsonforms.i18n')); }; };\nexports.getLocalizedUISchema = function (locale) { return function (state) {\n    return i18n_1.findLocalizedUISchema(locale)(get_1.default(state, 'jsonforms.i18n'));\n}; };\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}