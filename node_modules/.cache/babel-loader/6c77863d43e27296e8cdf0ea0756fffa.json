{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.withJsonFormsExpandPanelProps = exports.withContextToExpandPanelProps = exports.ctxDispatchToExpandPanelProps = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar merge_1 = tslib_1.__importDefault(require(\"lodash/merge\"));\n\nvar get_1 = tslib_1.__importDefault(require(\"lodash/get\"));\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar react_2 = require(\"@jsonforms/react\");\n\nvar core_1 = require(\"@jsonforms/core\");\n\nvar material_1 = require(\"@mui/material\");\n\nvar ExpandMore_1 = tslib_1.__importDefault(require(\"@mui/icons-material/ExpandMore\"));\n\nvar Delete_1 = tslib_1.__importDefault(require(\"@mui/icons-material/Delete\"));\n\nvar ArrowUpward_1 = tslib_1.__importDefault(require(\"@mui/icons-material/ArrowUpward\"));\n\nvar ArrowDownward_1 = tslib_1.__importDefault(require(\"@mui/icons-material/ArrowDownward\"));\n\nvar iconStyle = {\n  float: 'right'\n};\n\nvar ExpandPanelRendererComponent = function ExpandPanelRendererComponent(props) {\n  var labelHtmlId = react_1.useState(core_1.createId('expand-panel'))[0];\n  react_1.useEffect(function () {\n    return function () {\n      core_1.removeId(labelHtmlId);\n    };\n  }, [labelHtmlId]);\n  var childLabel = props.childLabel,\n      childPath = props.childPath,\n      index = props.index,\n      expanded = props.expanded,\n      moveDown = props.moveDown,\n      moveUp = props.moveUp,\n      enableMoveDown = props.enableMoveDown,\n      enableMoveUp = props.enableMoveUp,\n      handleExpansion = props.handleExpansion,\n      removeItems = props.removeItems,\n      path = props.path,\n      rootSchema = props.rootSchema,\n      schema = props.schema,\n      uischema = props.uischema,\n      uischemas = props.uischemas,\n      renderers = props.renderers,\n      cells = props.cells,\n      config = props.config;\n  var foundUISchema = react_1.useMemo(function () {\n    return core_1.findUISchema(uischemas, schema, uischema.scope, path, undefined, uischema, rootSchema);\n  }, [uischemas, schema, uischema.scope, path, uischema, rootSchema]);\n  var appliedUiSchemaOptions = merge_1.default({}, config, uischema.options);\n  return react_1.default.createElement(material_1.Accordion, {\n    \"aria-labelledby\": labelHtmlId,\n    expanded: expanded,\n    onChange: handleExpansion(childPath)\n  }, react_1.default.createElement(material_1.AccordionSummary, {\n    expandIcon: react_1.default.createElement(ExpandMore_1.default, null)\n  }, react_1.default.createElement(material_1.Grid, {\n    container: true,\n    alignItems: 'center'\n  }, react_1.default.createElement(material_1.Grid, {\n    item: true,\n    xs: 7,\n    md: 9\n  }, react_1.default.createElement(material_1.Grid, {\n    container: true,\n    alignItems: 'center'\n  }, react_1.default.createElement(material_1.Grid, {\n    item: true,\n    xs: 2,\n    md: 1\n  }, react_1.default.createElement(material_1.Avatar, {\n    \"aria-label\": 'Index'\n  }, index + 1)), react_1.default.createElement(material_1.Grid, {\n    item: true,\n    xs: 10,\n    md: 11\n  }, react_1.default.createElement(\"span\", {\n    id: labelHtmlId\n  }, childLabel)))), react_1.default.createElement(material_1.Grid, {\n    item: true,\n    xs: 5,\n    md: 3\n  }, react_1.default.createElement(material_1.Grid, {\n    container: true,\n    justifyContent: 'flex-end'\n  }, react_1.default.createElement(material_1.Grid, {\n    item: true\n  }, react_1.default.createElement(material_1.Grid, {\n    container: true,\n    direction: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }, appliedUiSchemaOptions.showSortButtons ? react_1.default.createElement(react_1.Fragment, null, react_1.default.createElement(material_1.Grid, {\n    item: true\n  }, react_1.default.createElement(material_1.IconButton, {\n    onClick: moveUp(path, index),\n    style: iconStyle,\n    disabled: !enableMoveUp,\n    \"aria-label\": \"Move up\",\n    size: 'large'\n  }, react_1.default.createElement(ArrowUpward_1.default, null))), react_1.default.createElement(material_1.Grid, {\n    item: true\n  }, react_1.default.createElement(material_1.IconButton, {\n    onClick: moveDown(path, index),\n    style: iconStyle,\n    disabled: !enableMoveDown,\n    \"aria-label\": \"Move down\",\n    size: 'large'\n  }, react_1.default.createElement(ArrowDownward_1.default, null)))) : '', react_1.default.createElement(material_1.Grid, {\n    item: true\n  }, react_1.default.createElement(material_1.IconButton, {\n    onClick: removeItems(path, [index]),\n    style: iconStyle,\n    \"aria-label\": \"Delete\",\n    size: 'large'\n  }, react_1.default.createElement(Delete_1.default, null))))))))), react_1.default.createElement(material_1.AccordionDetails, null, react_1.default.createElement(react_2.JsonFormsDispatch, {\n    schema: schema,\n    uischema: foundUISchema,\n    path: childPath,\n    key: childPath,\n    renderers: renderers,\n    cells: cells\n  })));\n};\n\nvar ExpandPanelRenderer = react_1.default.memo(ExpandPanelRendererComponent);\n/**\n * Maps state to dispatch properties of an expand pandel control.\n *\n * @param dispatch the store's dispatch method\n * @returns {DispatchPropsOfArrayControl} dispatch props of an expand panel control\n */\n\nvar ctxDispatchToExpandPanelProps = function ctxDispatchToExpandPanelProps(dispatch) {\n  return {\n    removeItems: react_1.useCallback(function (path, toDelete) {\n      return function (event) {\n        event.stopPropagation();\n        dispatch(core_1.update(path, function (array) {\n          toDelete.sort().reverse().forEach(function (s) {\n            return array.splice(s, 1);\n          });\n          return array;\n        }));\n      };\n    }, [dispatch]),\n    moveUp: react_1.useCallback(function (path, toMove) {\n      return function (event) {\n        event.stopPropagation();\n        dispatch(core_1.update(path, function (array) {\n          core_1.moveUp(array, toMove);\n          return array;\n        }));\n      };\n    }, [dispatch]),\n    moveDown: react_1.useCallback(function (path, toMove) {\n      return function (event) {\n        event.stopPropagation();\n        dispatch(core_1.update(path, function (array) {\n          core_1.moveDown(array, toMove);\n          return array;\n        }));\n      };\n    }, [dispatch])\n  };\n};\n\nexports.ctxDispatchToExpandPanelProps = ctxDispatchToExpandPanelProps;\n/**\n * Map state to control props.\n * @param state the JSON Forms state\n * @param ownProps any own props\n * @returns {StatePropsOfControl} state props for a control\n */\n\nvar withContextToExpandPanelProps = function withContextToExpandPanelProps(Component) {\n  return function (_a) {\n    var ctx = _a.ctx,\n        props = _a.props;\n    var dispatchProps = exports.ctxDispatchToExpandPanelProps(ctx.dispatch);\n    var childLabelProp = props.childLabelProp,\n        schema = props.schema,\n        path = props.path,\n        index = props.index,\n        uischemas = props.uischemas;\n    var childPath = core_1.composePaths(path, \"\" + index);\n    var childData = core_1.Resolve.data(ctx.core.data, childPath);\n    var childLabel = childLabelProp ? get_1.default(childData, childLabelProp, '') : get_1.default(childData, core_1.getFirstPrimitiveProp(schema), '');\n    return react_1.default.createElement(Component, tslib_1.__assign({}, props, dispatchProps, {\n      childLabel: childLabel,\n      childPath: childPath,\n      uischemas: uischemas\n    }));\n  };\n};\n\nexports.withContextToExpandPanelProps = withContextToExpandPanelProps;\n\nvar withJsonFormsExpandPanelProps = function withJsonFormsExpandPanelProps(Component) {\n  return react_2.withJsonFormsContext(exports.withContextToExpandPanelProps(Component));\n};\n\nexports.withJsonFormsExpandPanelProps = withJsonFormsExpandPanelProps;\nexports.default = exports.withJsonFormsExpandPanelProps(ExpandPanelRenderer);","map":{"version":3,"sources":["../../src/layouts/ExpandPanelRenderer.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withJsonFormsExpandPanelProps = exports.withContextToExpandPanelProps = exports.ctxDispatchToExpandPanelProps = void 0;\nvar tslib_1 = require(\"tslib\");\nvar merge_1 = tslib_1.__importDefault(require(\"lodash/merge\"));\nvar get_1 = tslib_1.__importDefault(require(\"lodash/get\"));\nvar react_1 = tslib_1.__importStar(require(\"react\"));\nvar react_2 = require(\"@jsonforms/react\");\nvar core_1 = require(\"@jsonforms/core\");\nvar material_1 = require(\"@mui/material\");\nvar ExpandMore_1 = tslib_1.__importDefault(require(\"@mui/icons-material/ExpandMore\"));\nvar Delete_1 = tslib_1.__importDefault(require(\"@mui/icons-material/Delete\"));\nvar ArrowUpward_1 = tslib_1.__importDefault(require(\"@mui/icons-material/ArrowUpward\"));\nvar ArrowDownward_1 = tslib_1.__importDefault(require(\"@mui/icons-material/ArrowDownward\"));\nvar iconStyle = { float: 'right' };\nvar ExpandPanelRendererComponent = function (props) {\n    var labelHtmlId = react_1.useState(core_1.createId('expand-panel'))[0];\n    react_1.useEffect(function () {\n        return function () {\n            core_1.removeId(labelHtmlId);\n        };\n    }, [labelHtmlId]);\n    var childLabel = props.childLabel, childPath = props.childPath, index = props.index, expanded = props.expanded, moveDown = props.moveDown, moveUp = props.moveUp, enableMoveDown = props.enableMoveDown, enableMoveUp = props.enableMoveUp, handleExpansion = props.handleExpansion, removeItems = props.removeItems, path = props.path, rootSchema = props.rootSchema, schema = props.schema, uischema = props.uischema, uischemas = props.uischemas, renderers = props.renderers, cells = props.cells, config = props.config;\n    var foundUISchema = react_1.useMemo(function () {\n        return core_1.findUISchema(uischemas, schema, uischema.scope, path, undefined, uischema, rootSchema);\n    }, [uischemas, schema, uischema.scope, path, uischema, rootSchema]);\n    var appliedUiSchemaOptions = merge_1.default({}, config, uischema.options);\n    return (react_1.default.createElement(material_1.Accordion, { \"aria-labelledby\": labelHtmlId, expanded: expanded, onChange: handleExpansion(childPath) },\n        react_1.default.createElement(material_1.AccordionSummary, { expandIcon: react_1.default.createElement(ExpandMore_1.default, null) },\n            react_1.default.createElement(material_1.Grid, { container: true, alignItems: 'center' },\n                react_1.default.createElement(material_1.Grid, { item: true, xs: 7, md: 9 },\n                    react_1.default.createElement(material_1.Grid, { container: true, alignItems: 'center' },\n                        react_1.default.createElement(material_1.Grid, { item: true, xs: 2, md: 1 },\n                            react_1.default.createElement(material_1.Avatar, { \"aria-label\": 'Index' }, index + 1)),\n                        react_1.default.createElement(material_1.Grid, { item: true, xs: 10, md: 11 },\n                            react_1.default.createElement(\"span\", { id: labelHtmlId }, childLabel)))),\n                react_1.default.createElement(material_1.Grid, { item: true, xs: 5, md: 3 },\n                    react_1.default.createElement(material_1.Grid, { container: true, justifyContent: 'flex-end' },\n                        react_1.default.createElement(material_1.Grid, { item: true },\n                            react_1.default.createElement(material_1.Grid, { container: true, direction: 'row', justifyContent: 'center', alignItems: 'center' },\n                                appliedUiSchemaOptions.showSortButtons ? (react_1.default.createElement(react_1.Fragment, null,\n                                    react_1.default.createElement(material_1.Grid, { item: true },\n                                        react_1.default.createElement(material_1.IconButton, { onClick: moveUp(path, index), style: iconStyle, disabled: !enableMoveUp, \"aria-label\": \"Move up\", size: 'large' },\n                                            react_1.default.createElement(ArrowUpward_1.default, null))),\n                                    react_1.default.createElement(material_1.Grid, { item: true },\n                                        react_1.default.createElement(material_1.IconButton, { onClick: moveDown(path, index), style: iconStyle, disabled: !enableMoveDown, \"aria-label\": \"Move down\", size: 'large' },\n                                            react_1.default.createElement(ArrowDownward_1.default, null))))) : (''),\n                                react_1.default.createElement(material_1.Grid, { item: true },\n                                    react_1.default.createElement(material_1.IconButton, { onClick: removeItems(path, [index]), style: iconStyle, \"aria-label\": \"Delete\", size: 'large' },\n                                        react_1.default.createElement(Delete_1.default, null))))))))),\n        react_1.default.createElement(material_1.AccordionDetails, null,\n            react_1.default.createElement(react_2.JsonFormsDispatch, { schema: schema, uischema: foundUISchema, path: childPath, key: childPath, renderers: renderers, cells: cells }))));\n};\nvar ExpandPanelRenderer = react_1.default.memo(ExpandPanelRendererComponent);\n/**\n * Maps state to dispatch properties of an expand pandel control.\n *\n * @param dispatch the store's dispatch method\n * @returns {DispatchPropsOfArrayControl} dispatch props of an expand panel control\n */\nvar ctxDispatchToExpandPanelProps = function (dispatch) { return ({\n    removeItems: react_1.useCallback(function (path, toDelete) { return function (event) {\n        event.stopPropagation();\n        dispatch(core_1.update(path, function (array) {\n            toDelete\n                .sort()\n                .reverse()\n                .forEach(function (s) { return array.splice(s, 1); });\n            return array;\n        }));\n    }; }, [dispatch]),\n    moveUp: react_1.useCallback(function (path, toMove) { return function (event) {\n        event.stopPropagation();\n        dispatch(core_1.update(path, function (array) {\n            core_1.moveUp(array, toMove);\n            return array;\n        }));\n    }; }, [dispatch]),\n    moveDown: react_1.useCallback(function (path, toMove) { return function (event) {\n        event.stopPropagation();\n        dispatch(core_1.update(path, function (array) {\n            core_1.moveDown(array, toMove);\n            return array;\n        }));\n    }; }, [dispatch])\n}); };\nexports.ctxDispatchToExpandPanelProps = ctxDispatchToExpandPanelProps;\n/**\n * Map state to control props.\n * @param state the JSON Forms state\n * @param ownProps any own props\n * @returns {StatePropsOfControl} state props for a control\n */\nvar withContextToExpandPanelProps = function (Component) { return function (_a) {\n    var ctx = _a.ctx, props = _a.props;\n    var dispatchProps = exports.ctxDispatchToExpandPanelProps(ctx.dispatch);\n    var childLabelProp = props.childLabelProp, schema = props.schema, path = props.path, index = props.index, uischemas = props.uischemas;\n    var childPath = core_1.composePaths(path, \"\" + index);\n    var childData = core_1.Resolve.data(ctx.core.data, childPath);\n    var childLabel = childLabelProp\n        ? get_1.default(childData, childLabelProp, '')\n        : get_1.default(childData, core_1.getFirstPrimitiveProp(schema), '');\n    return (react_1.default.createElement(Component, tslib_1.__assign({}, props, dispatchProps, { childLabel: childLabel, childPath: childPath, uischemas: uischemas })));\n}; };\nexports.withContextToExpandPanelProps = withContextToExpandPanelProps;\nvar withJsonFormsExpandPanelProps = function (Component) {\n    return react_2.withJsonFormsContext(exports.withContextToExpandPanelProps(Component));\n};\nexports.withJsonFormsExpandPanelProps = withJsonFormsExpandPanelProps;\nexports.default = exports.withJsonFormsExpandPanelProps(ExpandPanelRenderer);\n//# sourceMappingURL=ExpandPanelRenderer.js.map"]},"metadata":{},"sourceType":"script"}