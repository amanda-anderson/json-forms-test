{"ast":null,"code":"\"use strict\";\n\nvar _taggedTemplateLiteral = require(\"/home/aander-cl/Documents/jsonforms/jsonforms-react-seed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/taggedTemplateLiteral\");\n\nvar _toConsumableArray = require(\"/home/aander-cl/Documents/jsonforms/jsonforms-react-seed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _createClass = require(\"/home/aander-cl/Documents/jsonforms/jsonforms-react-seed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/aander-cl/Documents/jsonforms/jsonforms-react-seed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/home/aander-cl/Documents/jsonforms/jsonforms-react-seed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar _classCallCheck = require(\"/home/aander-cl/Documents/jsonforms/jsonforms-react-seed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"[\", \"]\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\", \"\", \"\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.regexpCode = exports.getEsmExportName = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\n\nvar _CodeOrName = function _CodeOrName() {\n  _classCallCheck(this, _CodeOrName);\n};\n\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\n\nvar Name = /*#__PURE__*/function (_CodeOrName2) {\n  _inherits(Name, _CodeOrName2);\n\n  var _super = _createSuper(Name);\n\n  function Name(s) {\n    var _this;\n\n    _classCallCheck(this, Name);\n\n    _this = _super.call(this);\n    if (!exports.IDENTIFIER.test(s)) throw new Error(\"CodeGen: name must be a valid identifier\");\n    _this.str = s;\n    return _this;\n  }\n\n  _createClass(Name, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.str;\n    }\n  }, {\n    key: \"emptyStr\",\n    value: function emptyStr() {\n      return false;\n    }\n  }, {\n    key: \"names\",\n    get: function get() {\n      return {\n        [this.str]: 1\n      };\n    }\n  }]);\n\n  return Name;\n}(_CodeOrName);\n\nexports.Name = Name;\n\nvar _Code = /*#__PURE__*/function (_CodeOrName3) {\n  _inherits(_Code, _CodeOrName3);\n\n  var _super2 = _createSuper(_Code);\n\n  function _Code(code) {\n    var _this2;\n\n    _classCallCheck(this, _Code);\n\n    _this2 = _super2.call(this);\n    _this2._items = typeof code === \"string\" ? [code] : code;\n    return _this2;\n  }\n\n  _createClass(_Code, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.str;\n    }\n  }, {\n    key: \"emptyStr\",\n    value: function emptyStr() {\n      if (this._items.length > 1) return false;\n      var item = this._items[0];\n      return item === \"\" || item === '\"\"';\n    }\n  }, {\n    key: \"str\",\n    get: function get() {\n      var _a;\n\n      return (_a = this._str) !== null && _a !== void 0 ? _a : this._str = this._items.reduce(function (s, c) {\n        return \"\".concat(s).concat(c);\n      }, \"\");\n    }\n  }, {\n    key: \"names\",\n    get: function get() {\n      var _a;\n\n      return (_a = this._names) !== null && _a !== void 0 ? _a : this._names = this._items.reduce(function (names, c) {\n        if (c instanceof Name) names[c.str] = (names[c.str] || 0) + 1;\n        return names;\n      }, {});\n    }\n  }]);\n\n  return _Code;\n}(_CodeOrName);\n\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\n\nfunction _(strs) {\n  var code = [strs[0]];\n  var i = 0;\n\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  while (i < args.length) {\n    addCodeArg(code, args[i]);\n    code.push(strs[++i]);\n  }\n\n  return new _Code(code);\n}\n\nexports._ = _;\nvar plus = new _Code(\"+\");\n\nfunction str(strs) {\n  var expr = [safeStringify(strs[0])];\n  var i = 0;\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  while (i < args.length) {\n    expr.push(plus);\n    addCodeArg(expr, args[i]);\n    expr.push(plus, safeStringify(strs[++i]));\n  }\n\n  optimize(expr);\n  return new _Code(expr);\n}\n\nexports.str = str;\n\nfunction addCodeArg(code, arg) {\n  if (arg instanceof _Code) code.push.apply(code, _toConsumableArray(arg._items));else if (arg instanceof Name) code.push(arg);else code.push(interpolate(arg));\n}\n\nexports.addCodeArg = addCodeArg;\n\nfunction optimize(expr) {\n  var i = 1;\n\n  while (i < expr.length - 1) {\n    if (expr[i] === plus) {\n      var res = mergeExprItems(expr[i - 1], expr[i + 1]);\n\n      if (res !== undefined) {\n        expr.splice(i - 1, 3, res);\n        continue;\n      }\n\n      expr[i++] = \"+\";\n    }\n\n    i++;\n  }\n}\n\nfunction mergeExprItems(a, b) {\n  if (b === '\"\"') return a;\n  if (a === '\"\"') return b;\n\n  if (typeof a == \"string\") {\n    if (b instanceof Name || a[a.length - 1] !== '\"') return;\n    if (typeof b != \"string\") return \"\".concat(a.slice(0, -1)).concat(b, \"\\\"\");\n    if (b[0] === '\"') return a.slice(0, -1) + b.slice(1);\n    return;\n  }\n\n  if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name)) return \"\\\"\".concat(a).concat(b.slice(1));\n  return;\n}\n\nfunction strConcat(c1, c2) {\n  return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str(_templateObject(), c1, c2);\n}\n\nexports.strConcat = strConcat; // TODO do not allow arrays here\n\nfunction interpolate(x) {\n  return typeof x == \"number\" || typeof x == \"boolean\" || x === null ? x : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\n\nfunction stringify(x) {\n  return new _Code(safeStringify(x));\n}\n\nexports.stringify = stringify;\n\nfunction safeStringify(x) {\n  return JSON.stringify(x).replace(/\\u2028/g, \"\\\\u2028\").replace(/\\u2029/g, \"\\\\u2029\");\n}\n\nexports.safeStringify = safeStringify;\n\nfunction getProperty(key) {\n  return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(\".\".concat(key)) : _(_templateObject2(), key);\n}\n\nexports.getProperty = getProperty; //Does best effort to format the name properly\n\nfunction getEsmExportName(key) {\n  if (typeof key == \"string\" && exports.IDENTIFIER.test(key)) {\n    return new _Code(\"\".concat(key));\n  }\n\n  throw new Error(\"CodeGen: invalid export name: \".concat(key, \", use explicit $id name mapping\"));\n}\n\nexports.getEsmExportName = getEsmExportName;\n\nfunction regexpCode(rx) {\n  return new _Code(rx.toString());\n}\n\nexports.regexpCode = regexpCode;","map":{"version":3,"sources":["../../../lib/compile/codegen/code.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.regexpCode = exports.getEsmExportName = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//Does best effort to format the name properly\nfunction getEsmExportName(key) {\n    if (typeof key == \"string\" && exports.IDENTIFIER.test(key)) {\n        return new _Code(`${key}`);\n    }\n    throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`);\n}\nexports.getEsmExportName = getEsmExportName;\nfunction regexpCode(rx) {\n    return new _Code(rx.toString());\n}\nexports.regexpCode = regexpCode;\n//# sourceMappingURL=code.js.map"]},"metadata":{},"sourceType":"script"}