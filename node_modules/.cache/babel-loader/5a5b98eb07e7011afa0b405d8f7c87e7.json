{"ast":null,"code":"\"use strict\";\n\nvar _taggedTemplateLiteral = require(\"/home/aander-cl/Documents/jsonforms/jsonforms-react-seed/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/taggedTemplateLiteral\");\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\", \" = \", \"\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\", \" || \", \" === null || \", \" === \\\"\\\"\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\", \" === undefined\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\", \"\", \"\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.assignDefaults = void 0;\n\nvar codegen_1 = require(\"../codegen\");\n\nvar util_1 = require(\"../util\");\n\nfunction assignDefaults(it, ty) {\n  var _it$schema = it.schema,\n      properties = _it$schema.properties,\n      items = _it$schema.items;\n\n  if (ty === \"object\" && properties) {\n    for (var key in properties) {\n      assignDefault(it, key, properties[key].default);\n    }\n  } else if (ty === \"array\" && Array.isArray(items)) {\n    items.forEach(function (sch, i) {\n      return assignDefault(it, i, sch.default);\n    });\n  }\n}\n\nexports.assignDefaults = assignDefaults;\n\nfunction assignDefault(it, prop, defaultValue) {\n  var gen = it.gen,\n      compositeRule = it.compositeRule,\n      data = it.data,\n      opts = it.opts;\n  if (defaultValue === undefined) return;\n  var childData = (0, codegen_1._)(_templateObject(), data, (0, codegen_1.getProperty)(prop));\n\n  if (compositeRule) {\n    (0, util_1.checkStrictMode)(it, \"default is ignored for: \".concat(childData));\n    return;\n  }\n\n  var condition = (0, codegen_1._)(_templateObject2(), childData);\n\n  if (opts.useDefaults === \"empty\") {\n    condition = (0, codegen_1._)(_templateObject3(), condition, childData, childData);\n  } // `${childData} === undefined` +\n  // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n\n\n  gen.if(condition, (0, codegen_1._)(_templateObject4(), childData, (0, codegen_1.stringify)(defaultValue)));\n}","map":{"version":3,"sources":["../../../lib/compile/validate/defaults.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,IAAA,SAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,SAAA,CAAA;;AAEA,SAAgB,cAAhB,CAA+B,EAA/B,EAAiD,EAAjD,EAA4D;AAAA,mBAC9B,EAAE,CAAC,MAD2B;AAAA,MACnD,UADmD,cACnD,UADmD;AAAA,MACvC,KADuC,cACvC,KADuC;;AAE1D,MAAI,EAAE,KAAK,QAAP,IAAmB,UAAvB,EAAmC;AACjC,SAAK,IAAM,GAAX,IAAkB,UAAlB,EAA8B;AAC5B,MAAA,aAAa,CAAC,EAAD,EAAK,GAAL,EAAU,UAAU,CAAC,GAAD,CAAV,CAAgB,OAA1B,CAAb;AACD;AACF,GAJD,MAIO,IAAI,EAAE,KAAK,OAAP,IAAkB,KAAK,CAAC,OAAN,CAAc,KAAd,CAAtB,EAA4C;AACjD,IAAA,KAAK,CAAC,OAAN,CAAc,UAAC,GAAD,EAAM,CAAN;AAAA,aAAoB,aAAa,CAAC,EAAD,EAAK,CAAL,EAAQ,GAAG,CAAC,OAAZ,CAAjC;AAAA,KAAd;AACD;AACF;;AATD,OAAA,CAAA,cAAA,GAAA,cAAA;;AAWA,SAAS,aAAT,CAAuB,EAAvB,EAAyC,IAAzC,EAAgE,YAAhE,EAAqF;AAAA,MAC5E,GAD4E,GAC1C,EAD0C,CAC5E,GAD4E;AAAA,MACvE,aADuE,GAC1C,EAD0C,CACvE,aADuE;AAAA,MACxD,IADwD,GAC1C,EAD0C,CACxD,IADwD;AAAA,MAClD,IADkD,GAC1C,EAD0C,CAClD,IADkD;AAEnF,MAAI,YAAY,KAAK,SAArB,EAAgC;AAChC,MAAM,SAAS,IAAG,GAAA,SAAA,CAAA,CAAH,qBAAO,IAAP,EAAc,CAAA,GAAA,SAAA,CAAA,WAAA,EAAY,IAAZ,CAAd,CAAf;;AACA,MAAI,aAAJ,EAAmB;AACjB,KAAA,GAAA,MAAA,CAAA,eAAA,EAAgB,EAAhB,oCAA+C,SAA/C;AACA;AACD;;AAED,MAAI,SAAS,IAAG,GAAA,SAAA,CAAA,CAAH,sBAAO,SAAP,CAAb;;AACA,MAAI,IAAI,CAAC,WAAL,KAAqB,OAAzB,EAAkC;AAChC,IAAA,SAAS,IAAG,GAAA,SAAA,CAAA,CAAH,sBAAO,SAAP,EAAuB,SAAvB,EAAgD,SAAhD,CAAT;AACD,GAZkF,CAanF;AACA;;;AACA,EAAA,GAAG,CAAC,EAAJ,CAAO,SAAP,GAAkB,GAAA,SAAA,CAAA,CAAlB,sBAAsB,SAAtB,EAAqC,CAAA,GAAA,SAAA,CAAA,SAAA,EAAU,YAAV,CAArC;AACD","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(prop)}`;\n    if (compositeRule) {\n        (0, util_1.checkStrictMode)(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = (0, codegen_1._) `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = (0, codegen_1._) `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, (0, codegen_1._) `${childData} = ${(0, codegen_1.stringify)(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map"]},"metadata":{},"sourceType":"script"}